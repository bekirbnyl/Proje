### Cinema Project API Test Script
### Bu script ile tüm Phase 3 endpoint'lerini test edebiliriz

# Variables
@baseUrl = http://localhost:5238
@hallId1 = {{$guid}}
@hallId2 = {{$guid}}
@accessToken = your-token-here

### 1. Login Admin User
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "testadminkursat@cinema.local",
  "password": "TestAdmin123!"
}

### 2. Get All Halls (to find real Hall IDs)
GET {{baseUrl}}/api/v1/halls
Authorization: Bearer {{accessToken}}

### 3. Get Layout Versions for Hall
GET {{baseUrl}}/api/v1/halls/{{hallId1}}/layouts
Authorization: Bearer {{accessToken}}

### 4. Get Active Layout for Hall
GET {{baseUrl}}/api/v1/halls/{{hallId1}}/layout?version=active
Authorization: Bearer {{accessToken}}

### 5. Add New Layout Version (Example with 2x3 seats)
POST {{baseUrl}}/api/v1/halls/{{hallId1}}/layouts
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "seats": [
    {"row": 1, "col": 1, "label": "A1"},
    {"row": 1, "col": 2, "label": "A2"},
    {"row": 1, "col": 3, "label": "A3"},
    {"row": 2, "col": 1, "label": "B1"},
    {"row": 2, "col": 2, "label": "B2"},
    {"row": 2, "col": 3, "label": "B3"}
  ]
}

### 6. Activate Layout Version
POST {{baseUrl}}/api/v1/halls/{{hallId1}}/layouts/{{$guid}}/activate
Authorization: Bearer {{accessToken}}

### 7. Get Seat Status for Screening
GET {{baseUrl}}/api/v1/screenings/{{$guid}}/seats

### DOĞRU TEST SÜRECİ:

# 1. Login yap ve token al
# 2. Halls endpoint'ini GET yaparak gerçek Hall ID'lerini al
# 3. O ID'leri yukarıdaki {{hallId1}} yerine koy
# 4. Layout ekleme işlemini yap
