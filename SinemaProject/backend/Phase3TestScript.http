### ğŸ¯ PHASE 3 TEST SCRIPT - Hall & Seat Layout Management
### AdÄ±m adÄ±m endpoint test rehberi

# ğŸ“ DEÄIÅKENLER - GerÃ§ek deÄŸerlerle gÃ¼ncelle
@baseUrl = http://localhost:5238
@accessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyZTgzM2MzNy0wNmZmLTRlNjYtOWI3OS1lMGNkZWVhZGZlZmIiLCJlbWFpbCI6InRlc3RhZG1pbmt1cnNhdEBjaW5lbWEubG9jYWwiLCJqdGkiOiI0ZDU0YjIyZC05MDU2LTQ5NDAtYWJhOC0yZjRlNmNiYmZkZDciLCJpYXQiOjE3NTc5MDMzMTUsImRpc3BsYXlfbmFtZSI6IlRlc3QgQWRtaW5pc3RyYXRvciIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiZXhwIjoxNzU3OTA0MjE1LCJpc3MiOiJjaW5lbWEubG9jYWwiLCJhdWQiOiJjaW5lbWEubG9jYWwifQ.RtWmZNElhcGw6PAkPbrGUv3NFeu2zUbKKegPVgjSmnk
@hallId = 6B61D60A-5AE0-470F-839B-B39C2248FB3E
@layoutId = 1FE38DD6-B8EC-4888-B896-07DC59772B8A
@screeningId = 45D85852-CC36-4588-8411-9DB798902430

# ğŸ” ADIM 1: LOGIN
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "testadminkursat@cinema.local",
  "password": "TestAdmin123!"
}

### âœ… YukarÄ±dan dÃ¶nen accessToken'Ä± kopyala ve @accessToken yerine yapÄ±ÅŸtÄ±r

# ğŸ¢ ADIM 2: HALL'LARI LÄ°STELE
GET {{baseUrl}}/api/v1/halls

### âœ… DÃ¶nen hall ID'lerinden birini kopyala ve @hallId yerine yapÄ±ÅŸtÄ±r

# ğŸ“‹ ADIM 3: HALL'IN MEVCUT LAYOUT'LARINI GÃ–RÃœNTÃœLE
GET {{baseUrl}}/api/v1/halls/{{hallId}}/layouts
Authorization: Bearer {{accessToken}}

# ğŸ¯ ADIM 4: AKTÄ°F LAYOUT'U GÃ–RÃœNTÃœLE (varsa)
GET {{baseUrl}}/api/v1/halls/{{hallId}}/layout?version=active
Authorization: Bearer {{accessToken}}

# â• ADIM 5: YENÄ° LAYOUT VERSÄ°YONU EKLE
POST {{baseUrl}}/api/v1/halls/{{hallId}}/layouts
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "seats": [
    {"row": 1, "col": 1, "label": "A1"},
    {"row": 1, "col": 2, "label": "A2"},
    {"row": 1, "col": 3, "label": "A3"},
    {"row": 2, "col": 1, "label": "B1"},
    {"row": 2, "col": 2, "label": "B2"},
    {"row": 2, "col": 3, "label": "B3"}
  ]
}

### âœ… YukarÄ±dan dÃ¶nen layout ID'sini kopyala ve @layoutId yerine yapÄ±ÅŸtÄ±r

# ğŸ”„ ADIM 6: LAYOUT'U AKTÄ°F YAPA
POST {{baseUrl}}/api/v1/halls/{{hallId}}/layouts/{{layoutId}}/activate
Authorization: Bearer {{accessToken}}

# ğŸ“Š ADIM 7: GÃœNCEL LAYOUT'LARI KONTROL ET
GET {{baseUrl}}/api/v1/halls/{{hallId}}/layouts
Authorization: Bearer {{accessToken}}

# ğŸ¬ ADIM 8: SCREENING KOLTUK DURUMLARINI GÃ–RÃœNTÃœLE
GET {{baseUrl}}/api/v1/screenings/{{screeningId}}/seats

### âœ… GerÃ§ek screening ID'si iÃ§in database'e bak veya seed data'ya gel

# ğŸ§ª EKSTRA TEST: DOÄRULAMA HATASI TESTÄ°
POST {{baseUrl}}/api/v1/halls/{{hallId}}/layouts
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "seats": [
    {"row": 1, "col": 1, "label": "A1"},
    {"row": 1, "col": 1, "label": "A1_duplicate"}
  ]
}

### âŒ Bu aynÄ± pozisyon iÃ§in validation hatasÄ± dÃ¶nmeli

### ğŸ“‹ BAÅARI KRÄ°TERLERÄ°:
### âœ… Login: 200 OK + valid token
### âœ… Get Halls: 200 OK + hall listesi  
### âœ… Get Layouts: 200 OK + layout listesi
### âœ… Add Layout: 201 Created + yeni layout
### âœ… Activate Layout: 204 No Content
### âœ… Get Seat Status: 200 OK + seat grid
